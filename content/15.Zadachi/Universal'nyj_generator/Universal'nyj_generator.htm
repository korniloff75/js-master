<h2>Предпосылка создания</h2>

<p>При написании различных математических функций часто бывает нужно отслеживать количество каких-то событий, будь то клики или вхождения. Как правило, это решается внутри самих функций, но, если это требуется делать часто, то получаются фрагменты однообразного кода, что удлиняет скрипты.</p>
<p>Используя возможности яваскрипт, такие как замыкания, будет правильнее написать единственную функцию-генератор, при вызове которой будет возвращаться счётчик. При этом каждый новый вызов будет создавать новый счётчик со своими параметрами, никак не зависящий от других.</p>


<h2>Пример работы</h2>

<div id="prim">
	<script type="text/javascript">
	// Основная функция
	function sequence(start, step) {
		"use strict";
		var it=0, count= start || 0;
		return function () {
			count= !it? count: count+ (step || 1);
			it++;
			return count;
		}
	}
	</script>

	<div id="counts">
		<h6>Счётчик 1</h6>
		<p>Начинает отсчёт со значения 2. Каждая итерация добавляет к значению 3.</p>
		<p id="count_1" class=result style=" min-height: 1em"></p>
		<h6>Счётчик 2</h6>
		<p>Начинает отсчёт со значения 0. Каждая итерация добавляет к значению 1.</p>
		<p id="count_2" class=result style="min-height: 1em"></p>
		<h6>Счётчик 3</h6>
		<p>Начинает отсчёт со значения 5. Каждая итерация добавляет к значению 1.</p>
		<p id="count_3" class=result style=" min-height: 1em"></p>

		<script type="text/javascript">
			// Создаём экземпляры генераторов
			var g1= sequence(2,3),
				g2= sequence(),
				g3= sequence(5);
		</script>

		<p>Теперь при каждом клике по кнопке, расположенной ниже, будет происходить очередная итерация счётчиков по описанным правилам. Первый клик отобразит начальные значения счётчиков, последующие - будут прибавлять указанный шаг или единицу, если шаг не указан. Если не указан ни шаг, ни начальное значение - начальным значением становится ноль, а шагом - единица.</p>
		<button class=button onclick="document.getElementById('count_1').textContent= g1(); document.getElementById('count_2').textContent= g2(); document.getElementById('count_3').textContent= g3();">Сделать итерацию счётчиков</button>
	</div>
</div>



<h3>Исходный код</h3>
<pre><code for="#prim"></code></pre>