<div id="test_page" style="">
	<p>Уже не в первый раз слышу о желании некоторых сайтостроителей дать возможность своим пользователям <strong>выбирать дизайн сайта</strong>.</p>
	<p class="test_p1">Некоторые хотят использовать возможность клиентской смены дизайна для сугубо оформительских целей, некоторые - для сезонного оформления сайта, а другие - для повышения удобства пользования сайтом людей с ограниченными возможностями. </p>
	<p>К примеру, людям со слабым зрением было бы удобнее читать более крупный шрифт, в то время, как обыный пользователь предпочитает меньше пользоваться прокруткой. Конечно, есть встроенные возможности браузеров по увеличению шрифта, при использовании клавиши <b>ctrl</b> и колеса мыши, но тут тоже есть недостатки. Может нарушиться общий дизайн сайта, да и не каждый знает об этих возможностях.</p>
	<p>Но в итоге, кто бы какие цели перед собой не ставил, все сходятся на одной проблеме: как <strong>изменять дизайн сайта с клиенской стороны</strong>?</p>
	<p class="test_p1">Глобально решить эту задачу можно динамической подгузкой нужного файла стилей при выборе нужного дизайна. Именно это я и реализовал в своем <em>скрипте</em>.</p>
	<p>Веб-мастер может создать несколько файлов стилей для своего сайта, а его пользователи выбрать тот из них, который им наиболее подходит. При этом броузер запоминает выбранный стиль, и при следующем входе пользователя показывает сайт уже с выбранным ранее дизайном.</p>
	<p class="test_p">На этой странице приведен пример работы <em>скрипта</em>. В поле под этим текстом вы можете выбрать вариант отображения прочитанного вами текста. Это лишь тестовый образец, поэтому я не вводил много различий. Скрипт подгружает любой файл стилей альтернативного дизайна, со всеми вытекающими возможностями смены не только размера, но и фона, рамок и многого другого.</p>
</div>
<div>
	<h4>Использование скрипта</h4>
	<ul>
		<li>Копируете приведенный ниже фрагмент кода в нужное место на своем сайте.</li>
		<li>Создаете дополнительный файл стилей, в котором прописываете все правила изменения внешнего вида сайта (в приведенном примере - это файл <b>Diz_alt.js.css</b>, расположенный в каталоге <b>css</b>). Таких файлов может быть любое количество, но при этом не забывайте добавить для каждого в наш код новую опцию(в коде ниже она закомментирована).</li>
		<li>Сохраняете созданный файл стилей по указанному пути, либо меняете путь в строке <b>value="/out_files/css/Diz_alt.js.css"</b></li>
		<li>Перезагружаете страницу с очисткой кеша броузера (<b>CTRL+R</b>)</li>
		<li>Все, скрипт работает!</li>
	</ul>
</div>

<hr />
<p><b>UPD 09.12.2017</b> - Скрипт был переписан на Vanilla.js (native ES-5). Для работы с cookies-данными используется маленькая библиотека  <span class="doc"><a href="/content/7.Texnologii/Rabota_s_cookies/Biblioteka_cookiesJS/">cookies.js</a></span>. Никаих дополнительных библиотек и фреймворков не требуется.</p>
<hr />

<h5>Пример работы скрипта:</h5>
<!-- class="per_100" -->
<div id="prim" >
	<strong>Выберите вариант отображения сайта:</strong>
	<select id="diz_sel" onchange="dizSave(this.value);" size="1">
		<option value="">Основной</option>
		<option value="/<?=\H::$Dir ?>Diz_alt.js.css">Альтернативный</option>
		<!-- option value="/out_files/css/Diz_alt_2.css">Альтернативный-2</option -->
	</select>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/cookiesjs/1.4.2/cookies.min.js"></script>
	<script type="text/javascript">
	"use strict";
	var dizSave = function dizSave (path) {
		cookies({diz_name : path || null}, {expires: 10 * 24 * 3600, autoencode : 0});
		location.reload();
	}

	;(function(d) {
		var cook = cookies('diz_name'),
			dcl = ('onpageshow' in window) ? 'pageshow' : 'DOMContentLoaded';

		window.addEventListener(dcl, function() {
			var linki = d.querySelectorAll('link');
			var link_alt = d.createElement('link');
			link_alt.rel = "StyleSheet";
			d.querySelector('head').appendChild(link_alt);
			d.querySelector('#diz_sel').value = link_alt.href = cookies('diz_name') || '';
			console.info('diz_name= ' + d.querySelector('#diz_sel').value);

		})
	})(document);
	</script>
</div>


<h5>HTML + Javascript код:</h5>

<pre><code for="#prim"></code></pre>