"use strict";window.DizSel=window.DizSel||!!_K&&{__proto__:_K,version:"3.6.1",get checkUrl(){return"/js/Diz_alt_pro/"},set checkUrl(e){Object.defineProperty(this,"checkUrl",{value:e})},SlabovidButtonParent:_K.G("$body"),addons:{},sts:{},v:{ch:0},log:[],altObj:_K.G("#altObj")||_K.body().cr("div",{id:"altObj",style:"/* position:absolute; */ left:0; top:0; z-index:30000; width:100%; padding:20px; margin:0;",hidden:1}),init:function(){return this.altBody=_K.G("#altBody")||this.altObj.cr("div",{id:"altBody"}),DizSel.Backup={altBack:_K.G("$#altObj #mask")||this.altObj.cr("div",{id:"mask"}),save:function(){DizSel.v.start=new Date,DizSel.altBody.innerHTML="",DizSel.fns.getNodes(function(e){e.setAttribute("fsIsh",Math.max(DizSel.sts.fontSize.min,parseInt(getComputedStyle(e).fontSize)))},this.obj),[].forEach.call(this.obj.childNodes,function(e){DizSel.altBody.Clone(e)}),_K.G("A$div#altObj .DA_del").forEach(function(e){_K.G(e).remove()}),DizSel.fns.getNodes(function(e){DizSel.fns.setCol(e),DizSel.fns.setFS(e)}),DizSel.v.speed=(new Date).getTime()-DizSel.v.start.getTime();var e=_K.G("#speedScr");e&&(e.textContent=DizSel.v.speed)},get obj(){return _K.G("$body")}},DizSel.inited=DizSel.inited&&DizSel.inited++||1,DizSel.log.push("DizSel.inited= "+DizSel.inited),_K.isObject()?void(_K.prot&&!_K.v.diz&&(DizSel.style_BG=_K.G("$head").cr("link",{href:DizSel.checkUrl+"Uni_3.css",rel:"StyleSheet",type:"text/css"}).cr("link",{href:"",rel:"StyleSheet",type:"text/css"},"after"),DizSel.createBGs(),DizSel.fns.imageOff(),DizSel.CheckCook(),DizSel.fns.floatTip.init(),DizSel.log.push("Скорость отработки скрипта - "+DizSel.v.speed+" мс"),window.sv&&sv.ADMIN&&console.info("Diz_alt_pro LOG: \n-------------------------\n"+DizSel.log.join("\n")))):void console.error("missing _K")},addStyleSheet:function(){"y"===Cook.get("diz_alt")?Cook.set({diz_alt:"n"},DizSel.sts.mem):Cook.set({diz_alt:"y"},DizSel.sts.mem),DizSel.CheckCook()},PUopacity:function(){Object.assign(DizSel.PU.style,{transition:"none",opacity:getComputedStyle(DizSel.PU).opacity}),DizSel.PUanimate=setInterval(function(){return DizSel.PU.style.opacity<=.1?clearInterval(DizSel.PUanimate):void(DizSel.PU.style.opacity-=.015)},30)},CheckCook:function(){DizSel.v.DAlt="y"===Cook.get("diz_alt"),this.SlabovidButton.value=this.SlabovidButton.title=this.sts.button.value,_K.G("#puzadpn")?(this.PU.style.top=1.2*parseInt(getComputedStyle(_K.G("#puzadpn")).height)+"px",_K.body().style.top=1.1*+this.PU.style.top+parseInt(getComputedStyle(DizSel.PU).height)+"px",DizSel.log.push("getComputedStyle(_K.G('#puzadpn')).height= "+(getComputedStyle(_K.G("#puzadpn")).height||"нету"))):_K.G("#wpadminbar")?this.PU.style.top=getComputedStyle(_K.G("wpadminbar")).height:_K.G(DizSel.altObj).style.paddingTop=(parseInt(getComputedStyle(DizSel.PU).height)||45)+"px",DizSel.log.push("getComputedStyle(DizSel.PU).height= "+getComputedStyle(DizSel.PU).height),DizSel.PU.e.add({mouseover:"DizSel.hasOwnProperty('PUanimate') && clearInterval (DizSel.PUanimate); this.style.opacity=1;",mouseout:DizSel.PUopacity}),DizSel.v.DAlt?(DizSel.altObj.hidden=0,this.changeCol.value=Cook.get("diz_alt_Col")||DizSel.sts.startCol(),DizSel.altBody.className=Cook.get("diz_alt_class")||"",_K.G(DizSel.style_BG).href=DizSel.checkUrl+(Cook.get("diz_alt_BG")||"cs-white")+".css"):DizSel.v.DAlt||(DizSel.altObj.hidden=1,DizSel.hasOwnProperty("PUanimate")&&clearInterval(DizSel.PUanimate),_K.G("#puzadpn")&&(DizSel.SlabovidButton.style.margin=getComputedStyle(_K.G("#puzadpn")).height+" auto -"+getComputedStyle(_K.G("#puzadpn")).height),_K.G("#uzadpn")&&(DizSel.SlabovidButton.style.position="relative")),DizSel.regRu()},noFA:function(){FA=["DIV_DA_207850_wrapper"],FA.forEach(function(e){e.hidden=1})},regRu:function(){var e=_K.G("$#header-content-inner div");e&&/widget/i.test(e.id)&&(DizSel.log.push("rRH= "+e),DizSel.log.push("Ага, значит сайт на хосте REG.RU"),DizSel.v.DAlt?_K.G(e,{height:0}):_K.G(e,{height:""}))},fns:{getNodes:function e(t,i){i=(i||DizSel.altBody).childNodes,Object.keys(i).forEach(function(l){![1].includes(i[l].nodeType)||/no-size/i.test(i[l].className)||i[l].tagName&&DizSel.sts.fontSize.NoTags.test(i[l].tagName)||(t(i[l]),i[l].hasChildNodes()&&e(t,i[l]))})},setCol:function(e){e.style.color=Cook.get("diz_alt_Col")||DizSel.sts.startCol()},setFS:function(e){e.fsIsh=+(e.fsIsh||Math.max(e.getAttribute("fsIsh"),DizSel.sts.fontSize.min)),e.fs=e.fsIsh+DizSel.sts.fontSize.step*+Cook.get("diz_alt_fs"),e.style.fontSize=e.fs+"px"},toggleStyle:function(e){_K.l("arguments= ",arguments),DizSel.altBody.classList.toggle(e),Cook.set({diz_alt_class:DizSel.altBody.className},DizSel.sts.mem)},imageOff:function(){for(var e=0,t=DizSel.altBody.G("A$img"),i=t.length;i>e;e++){var l=getComputedStyle(t[e]);if(!(parseInt(l.width)<DizSel.sts.imageOff.minImg||"captcha"===t[e].id))switch(Cook.get("diz_alt_Img")||Cook.set({diz_alt_Img:3},DizSel.sts.mem),t[e].alter=t[e].alter||+Cook.get("diz_alt_Img"),t[e].alter){case 4:t[e].style.filter=t[e].style.WebkitFilter="grayscale(100%)",4==Cook.get("diz_alt_Img")||Cook.set({diz_alt_Img:4},DizSel.sts.mem),t[e].alter=1;break;case 1:t[e].hidden=1,_K.G(t[e],{filter:"grayscale(0)",WebkitFilter:"grayscale(0)"}),_K.G(t[e]).cr("span",{"class":"imgAlt",style:"padding:3px;border:1px solid;display: inline-block; width:"+l.width+"; height:"+l.height},"after").innerHTML=t[e].alt||"IMG",1==Cook.get("diz_alt_Img")||Cook.set({diz_alt_Img:1},DizSel.sts.mem),t[e].alter++;break;case 2:t[e].hidden=1,!_K.G("$span.imgAlt")||[].forEach.call(_K.G("A$span.imgAlt"),function(e){e.del()}),2==Cook.get("diz_alt_Img")||Cook.set({diz_alt_Img:2},DizSel.sts.mem),t[e].alter++;break;case 3:t[e].hidden=0,t[e].alter++,3==Cook.get("diz_alt_Img")||Cook.set({diz_alt_Img:3},DizSel.sts.mem)}}},sound:function(){function e(e){setTimeout(function(){ya.tts=new ya.speechkit.Tts(DizSel.sts.sound)},(e||0)+300)}window.ya||(_K.G("$head").cr("script",{src:"https://webasr.yandex.net/jsapi/v1/webspeechkit.js"}).onload=function(){try{e()}catch(t){e(300)}}),DizSel.altBody.onmouseup=function(e){e=_K.Event.fix(e);var t=window.getSelection().toString();"CODE"!==e.target.nodeName&&t&&(_K.l("Настройки - "+DizSel.sts.sound.speaker+", проигрывается= "+t),ya.tts.speak(t),t=!1)},_K.G(this,{boxShadow:"0 0 1px 1px #999",transform:"scale(1.2)"})},floatTip:{init:function(){window.floatTip||(this._constr(),this.obj=_K.G("#floatTip")||_K.G("$body").cr("div",{id:"floatTip",style:"z-index:50000; position: absolute;"+DizSel.sts.floatTip.st,hidden:1}),[].forEach.call(_K.G("A$#special-panel *[title]"),function(e){e.e.add({mouseover:function(t){DizSel.fns.floatTip.toolTip.call(e,t),DizSel.fns.floatTip.moveTip(t)},mouseout:"DizSel.fns.floatTip.obj.hidden=1"}),e["data-title"]=e["data-title"]||e.title,e.title=""}))},_constr:function(){var e={moveTip:function(e){e=_K.Event.fix(e);var t=getComputedStyle(DizSel.fns.floatTip.obj),i=e.pageX,l=e.pageY;DizSel.fns.floatTip.obj.style.left=(i+parseInt(t.width)+DizSel.sts.floatTip.distX<_K.body().clientWidth+_K.scroll.left?i+DizSel.sts.floatTip.distX:i-parseInt(t.width)-DizSel.sts.floatTip.distX)+"px",DizSel.fns.floatTip.obj.style.top=(l+parseInt(t.height)+DizSel.sts.floatTip.distY<_K.body().clientHeight+_K.scroll.top?l+DizSel.sts.floatTip.distY:l-parseInt(t.height)-DizSel.sts.floatTip.distY)+"px"},toolTip:function(){_K.G(DizSel.fns.floatTip.obj,this["data-title"]).hidden=0}};return _K.clonePpts(DizSel.fns.floatTip,e,{"enum":!0})}},lightCur:function(){},stylePU:function(e,t){t=t||{opacity:.1,scale:.5},e.style.opacity=t.opacity},zoom:function(){}},SaveFS:function(e){if(!isNaN(e)){DizSel.v.ch=e;var t=+(Cook.get("diz_alt_fs")||0)+Math.sign(e);DizSel.sts.fontSize.fixed?Cook.set({diz_alt_fs:Math.sign(e)},DizSel.sts.mem):Math.abs(t)>DizSel.sts.fontSize.iter||Cook.set({diz_alt_fs:t},DizSel.sts.mem),DizSel.fns.getNodes(DizSel.fns.setFS)}},createBGs:function(){function e(e){var t=e?this[e]:this,i=(t.in_sts?DizSel.PU_sts:DizSel.v.BG).cr("i",t.ppts);i.classList.add("imgPU"),i.focus=!1,!!t.e&&(i.onclick=t.e),!!t.st&&_K.G(i,t.st)}if(DizSel.Backup.save(),DizSel.PUfr=_K.G(document.createDocumentFragment()),DizSel.PU=DizSel.PUfr.cr("div",{id:"special-panel","class":"no-size",style:" opacity:.9; "}),DizSel.inPU=DizSel.PU.cr("div",{style:"margin: 0 auto; display: inline-block;"}),DizSel.PU.e.add("select",function(e){_K.e.fix(e).preventDefault()}),DizSel.SlabovidButton=DizSel.SlabovidButton||(_K.G(DizSel.SlabovidButtonParent)||_K.G("$#header")||_K.G("$body")).cr("input",{type:"button","class":"imgPU no-size btn min700 DA_del",style:'padding: 3px 5px 3px 50px; margin:0 auto; font-size:20px; background: url("'+DizSel.checkUrl+"eye.gif\") no-repeat scroll 3px center, #ddd linear-gradient(#ccc, #eee, #ccc) repeat scroll 0 0;border: 1px solid #58a; border-radius:5px; z-index:9949; position:static; left:5px; top:20px; cursor: url('"+DizSel.checkUrl+"glasses.png'), pointer;",id:"diz_alt",value:"ДЛЯ СЛАБОВИДЯЩИХ"},"fCh"),DizSel.SlabovidButton.e.add("click",DizSel.addStyleSheet),"function"==typeof DizSel.sts.button.callback&&DizSel.sts.button.callback(),DizSel.v.DAlt&&DizSel.PUopacity(),DizSel.altBody.onwheel=DizSel.altBody.onclick=DizSel.altBody.onmouseup=function(e){_K.e.fix(e).stopPropagation()},!this.v.BG){this.v.BG=DizSel.inPU.cr("div",{"class":"no-size flex",style:"margin: 0 auto; display: flex;"}),DizSel.PU_sts=DizSel.PU_sts||DizSel.inPU.cr("div",{hidden:1}).cr("div",{"class":"flex",style:"display: flex;"}),_K.G("$script[src*='DA_pro_v3_B.js']")&&(DizSel.version=DizSel.version+"_beta"),DizSel.v.BG.cr("div",{style:"position: absolute; right: 0;"}).innerHTML="v "+DizSel.version,DizSel.changeCol=DizSel.v.BG.cr("input",{type:"color","class":"imgPU",title:"цвет ТЕКСТА",style:"width:50px;height:30px;float:left; margin:10px 20px;padding:0;",value:Cook.get("diz_alt_Col")||DizSel.sts.startCol()}),Object.keys(DizSel.sts.BG_dim).forEach(function(t){var i=function(e){return function(){Cook.set({diz_alt_BG:e},DizSel.sts.mem),Cook.set({diz_alt_Col:DizSel.sts.startCol()},DizSel.sts.mem),DizSel.CheckCook(),DizSel.fns.getNodes(DizSel.fns.setCol)}}(t),l={ppts:{"class":"sprite-"+t,title:DizSel.sts.BG_dim[t]},e:i,st:{margin:"0 5px"},in_sts:!0};e.call(l)});var t=[{fontSizeS:{ppts:{"class":"sprite-fontBig",title:"Уменьшить"},e:function(){DizSel.SaveFS(-DizSel.sts.fontSize.step)},st:{marginLeft:"20px"}}},{fontSizeB:{ppts:{"class":"sprite-fontBig_50",title:"Увеличить"},e:function(){DizSel.SaveFS(DizSel.sts.fontSize.step)}}},{fontType:{ppts:{"class":"sprite-text",title:"Тип шрифта"},e:DizSel.fns.toggleStyle.bind(null,"fontType"),in_sts:!0}},{kern:{ppts:{"class":"sprite-kern",title:"Изменить интервал"},e:DizSel.fns.toggleStyle.bind(null,"kern"),in_sts:!0}},{lh:{ppts:{"class":"sprite-kern",title:"Высота строки"},e:DizSel.fns.toggleStyle.bind(null,"lineHeight"),st:{transform:"rotate(90deg)"},in_sts:!0}},{imageOff:{ppts:{"class":"sprite-imageOff",title:"Показ изображений",alt:"Показ изображений"},e:DizSel.fns.imageOff,in_sts:!0}},{sound:{ppts:{"class":"sprite-sound",title:"Озвучивать выделенный текст",alt:"Озвучивать выделенный текст"},e:DizSel.fns.sound}},{sts:{ppts:{"class":"sprite-settings",title:"Настройки отображения сайта",alt:"Настройки отображения сайта"},e:function(){DizSel.PU_sts.parentNode.hidden=!DizSel.PU_sts.parentNode.hidden}}},{toDefault:{ppts:{"class":"sprite-toDefault",title:"Обычный вид",id:"toDefault"},e:function(){DizSel.addStyleSheet()},st:{margin:"3px 20px 0"}}}];DizSel.changeCol.onchange=function(){Cook.set({diz_alt_Col:this.value},DizSel.sts.mem),DizSel.fns.getNodes(DizSel.fns.setCol)},t.forEach(function(t){e.call(t,Object.keys(t)[0])}),DizSel.altObj.Append(DizSel.PUfr,"fCh")}},prevent:function(){DizSel.addons.puny=DizSel.checkUrl&&_K.G("$head").cr("script",{src:DizSel.checkUrl+"punycode.js",async:0}),DizSel.addons.puny.onload=function(){DizSel.addons.db=_K.G("$head").cr("script",{src:DizSel.checkUrl+"db.js?req="+_K.fns.rnd(0,1e5),async:0}),console.log(DizSel.addons.db.src),/bereghost\.ru/.test(location.host)&&DizSel.noFA(),DizSel.addons.db.e.add({load:DizSel.init.bind(DizSel),error:function(){DizSel.addons.puny=DizSel.checkUrl&&_K.G("$head").cr("script",{src:DizSel.checkUrl+"punycode.js",async:0}),DizSel.addons.db.remove(),DizSel.addons.db=_K.G("$head").cr("script",{src:"//js-master.ru/js/db/db_DA_pro_3?req="+_K.fns.rnd(0,1e5),async:0}),DizSel.addons.db.onload=DizSel.init.bind(DizSel)}})}}},window.addEventListener("load",DizSel.prevent);